[gd_scene load_steps=10 format=2]

[ext_resource path="res://Entities/Troop.tscn" type="PackedScene" id=1]
[ext_resource path="res://Tiles/Tile.tscn" type="PackedScene" id=2]
[ext_resource path="res://tile_handler/tile_handler.tscn" type="PackedScene" id=3]
[ext_resource path="res://win_tile/win_tile.tscn" type="PackedScene" id=4]
[ext_resource path="res://fonts/Montserrat-Medium.ttf" type="DynamicFontData" id=5]
[ext_resource path="res://levels/pathfinding.gd" type="Script" id=6]
[ext_resource path="res://Art/Maps/Map_1.obj" type="ArrayMesh" id=8]

[sub_resource type="NavigationMesh" id=1]
vertices = PoolVector3Array( 27, 7.5, -2, 22, 7.5, 0, 24, 7.5, 1, 19, 7.5, -24, 20, 7.5, -22, 22, 7.5, -27, 19, 7.5, -24, 22, 7.5, -27, 10, 7.5, -27, 10, 7.5, -24, -23, 7.5, 10, -23, 7.5, 16, -16, 7.5, 19, -16, 7.5, 7, 1, 7.5, -24, 10, 7.5, -24, 10, 7.5, -27, -1, 7.5, -27, -23, 7.5, -2, -23, 7.5, 10, -16, 7.5, 7, -16, 7.5, -5, -20, 7.5, -8, -8, 7.5, -24, 1, 7.5, -24, -1, 7.5, -27, -12, 7.5, -27, 1, 7.5, 20, -8, 7.5, 20, -5, 7.5, 23, 2, 7.5, 23, -16, 7.5, -24, -8, 7.5, -24, -12, 7.5, -27, -23, 7.5, -27, -8, 7.5, 20, -16, 7.5, 19, -11, 7.5, 23, -5, 7.5, 23, -20, 7.5, -20, -16, 7.5, -24, -23, 7.5, -27, -20, 7.5, -20, -23, 7.5, -27, -23, 7.5, -15, -20, 7.5, -8, -20, 7.5, -20, -23, 7.5, -15, -23, 7.5, -9, 20, 7.5, 20, 10, 7.5, 20, 14, 7.5, 23, 20, 7.5, 23, -20, 7.5, -8, -23, 7.5, -9, -23, 7.5, -2, 27, 7.5, 23, 27, 7.5, 16, 24, 7.5, 16, 20, 7.5, 20, 20, 7.5, 23, 27, 7.5, 10, 27, 7.5, -2, 24, 7.5, 1, 24, 7.5, 8, -16, 7.5, 19, -23, 7.5, 16, -23, 7.5, 23, -11, 7.5, 23, 27, 7.5, 10, 24, 7.5, 8, 24, 7.5, 16, 27, 7.5, 16, 2, 7.5, 23, 14, 7.5, 23, 10, 7.5, 20, 1, 7.5, 20, 8, 7.5, -4, 8, 7.5, 0, 15, 7.5, 0, 16, 7.5, -4, 20, 7.5, -15, 20, 7.5, -8, 27, 7.5, -9, 27, 7.5, -15, 16, 7.5, -4, 15, 7.5, 0, 22, 7.5, 0, 27, 7.5, -2, 27, 7.5, -9, 20, 7.5, -8, 27, 7.5, -27, 22, 7.5, -27, 20, 7.5, -22, 20, 7.5, -15, 27, 7.5, -15, 17, 6, -15, 18, 6, -8, 18, 6, -15, -8, 6, -22, -16, 6, -22, -9, 6, -21, 16, 6, -21, 17, 6, -15, 18, 6, -15, 18, 6, -22, 1, 6, -22, -1, 6, -21, 7, 6, -21, 9, 6, -22, 16, 6, -21, 18, 6, -22, 9, 6, -22, 7, 6, -21, -8, 6, -22, -9, 6, -21, -1, 6, -21, 1, 6, -22, -18, 6, -14, -17, 6, -8, -17, 6, -15, -18, 6, -20, -9, 3, 9, -10, 3, 15, -5, 3, 15, -4, 3, 11, -4, 3, 10, -3, 3, -1, -2, 3, 3, 3, 3, 3, 3, 3, -8, -2, 3, -8, -2, 3, -8, -4, 3, -2, -3, 3, -1, -14, 3, -18, -14, 3, -9, -8, 3, -9, -7, 3, -18, 8, 3, -9, 15, 3, -9, 15, 3, -18, 7, 3, -18, 19, 3, 6, 10, 3, 6, 10, 3, 12, 19, 3, 15, 8, 3, -9, 7, 3, -18, 0, 3, -18, -2, 3, -8, 3, 3, -8, 10, 3, 15, 19, 3, 15, 10, 3, 12, 8, 3, 14, -10, 3, 6, -9, 3, 9, -9, 3, 0, -10, 3, -2, 2, 3, 15, 10, 3, 15, 8, 3, 14, 4, 3, 14, -9, 3, 0, -3, 3, -1, -4, 3, -2, -10, 3, -2, 1, 3, 11, 2, 3, 15, 4, 3, 14, 3, 3, 10, -7, 3, -18, -8, 3, -9, -2, 3, -8, 0, 3, -18, 1, 3, 11, 3, 3, 10, -4, 3, 10, -4, 3, 11, -10, 3, 6, -10, 3, 15, -9, 3, 9, 11, 6, 18, 20, 6, 18, 10, 6, 17, 0, 6, 17, -1, 6, 13, -3, 6, 13, -4, 6, 17, -13, 6, -4, -5, 6, -5, -5, 6, -7, -14, 6, -5, 3, 6, 18, 11, 6, 18, 10, 6, 17, 0, 6, 17, -13, 6, -4, -14, 6, -5, -14, 6, 6, -13, 6, 7, -6, 6, 18, 3, 6, 18, 0, 6, 17, -4, 6, 17, -14, 6, 18, -12, 6, 17, -13, 6, 7, -14, 6, 6, -6, 6, 18, -4, 6, 17, -12, 6, 17, -14, 6, 18, -5, 6, -7, -16, 6, -7, -14, 6, -5, 21, 6, 9, 22, 6, 16, 22, 6, 9, 7, 6, -6, 16, 6, -7, 5, 6, -7, 4, 6, 5, 4, 6, 7, 5, 6, 11, 7, 6, 11, 8, 6, 3, 6, 6, 1, -4, 6, 5, -5, 6, 1, -7, 6, 1, -7, 6, 7, 20, 6, 3, 22, 6, 2, 13, 6, 2, 8, 6, 3, 4, 6, 7, 4, 6, 5, -4, 6, 5, -7, 6, 7, 20, 6, 3, 21, 6, 9, 22, 6, 9, 22, 6, 2, 8, 6, 3, 13, 6, 2, 6, 6, 1, 7, 6, -6, 5, 6, -7, 5, 6, 0, 6, 6, 1, 6, 6, 1, 5, 6, 0, 4, 6, 5 )
polygons = [ PoolIntArray( 2, 1, 0 ), PoolIntArray( 3, 5, 4 ), PoolIntArray( 9, 8, 6 ), PoolIntArray( 6, 8, 7 ), PoolIntArray( 10, 13, 11 ), PoolIntArray( 11, 13, 12 ), PoolIntArray( 15, 14, 16 ), PoolIntArray( 16, 14, 17 ), PoolIntArray( 22, 21, 18 ), PoolIntArray( 18, 21, 20 ), PoolIntArray( 18, 20, 19 ), PoolIntArray( 24, 23, 25 ), PoolIntArray( 25, 23, 26 ), PoolIntArray( 30, 29, 27 ), PoolIntArray( 27, 29, 28 ), PoolIntArray( 32, 31, 33 ), PoolIntArray( 33, 31, 34 ), PoolIntArray( 38, 37, 35 ), PoolIntArray( 35, 37, 36 ), PoolIntArray( 41, 40, 39 ), PoolIntArray( 44, 43, 42 ), PoolIntArray( 48, 47, 45 ), PoolIntArray( 45, 47, 46 ), PoolIntArray( 52, 51, 49 ), PoolIntArray( 49, 51, 50 ), PoolIntArray( 55, 54, 53 ), PoolIntArray( 58, 57, 59 ), PoolIntArray( 59, 57, 60 ), PoolIntArray( 60, 57, 56 ), PoolIntArray( 64, 63, 61 ), PoolIntArray( 61, 63, 62 ), PoolIntArray( 66, 65, 67 ), PoolIntArray( 67, 65, 68 ), PoolIntArray( 72, 71, 69 ), PoolIntArray( 69, 71, 70 ), PoolIntArray( 76, 75, 73 ), PoolIntArray( 73, 75, 74 ), PoolIntArray( 78, 77, 79 ), PoolIntArray( 79, 77, 80 ), PoolIntArray( 84, 83, 81 ), PoolIntArray( 81, 83, 82 ), PoolIntArray( 86, 85, 87 ), PoolIntArray( 87, 85, 90 ), PoolIntArray( 87, 90, 88 ), PoolIntArray( 88, 90, 89 ), PoolIntArray( 92, 91, 93 ), PoolIntArray( 93, 91, 94 ), PoolIntArray( 94, 91, 95 ), PoolIntArray( 98, 97, 96 ), PoolIntArray( 101, 100, 99 ), PoolIntArray( 103, 102, 104 ), PoolIntArray( 104, 102, 105 ), PoolIntArray( 109, 108, 106 ), PoolIntArray( 106, 108, 107 ), PoolIntArray( 113, 112, 110 ), PoolIntArray( 110, 112, 111 ), PoolIntArray( 115, 114, 116 ), PoolIntArray( 116, 114, 117 ), PoolIntArray( 121, 120, 118 ), PoolIntArray( 118, 120, 119 ), PoolIntArray( 125, 124, 126 ), PoolIntArray( 126, 124, 122 ), PoolIntArray( 122, 124, 123 ), PoolIntArray( 128, 127, 129 ), PoolIntArray( 129, 127, 131 ), PoolIntArray( 129, 131, 130 ), PoolIntArray( 134, 133, 132 ), PoolIntArray( 136, 135, 137 ), PoolIntArray( 137, 135, 138 ), PoolIntArray( 140, 139, 141 ), PoolIntArray( 141, 139, 142 ), PoolIntArray( 144, 143, 145 ), PoolIntArray( 145, 143, 146 ), PoolIntArray( 151, 150, 147 ), PoolIntArray( 147, 150, 149 ), PoolIntArray( 147, 149, 148 ), PoolIntArray( 155, 154, 152 ), PoolIntArray( 152, 154, 153 ), PoolIntArray( 159, 158, 156 ), PoolIntArray( 156, 158, 157 ), PoolIntArray( 163, 162, 160 ), PoolIntArray( 160, 162, 161 ), PoolIntArray( 165, 164, 166 ), PoolIntArray( 166, 164, 167 ), PoolIntArray( 171, 170, 168 ), PoolIntArray( 168, 170, 169 ), PoolIntArray( 173, 172, 174 ), PoolIntArray( 174, 172, 175 ), PoolIntArray( 179, 178, 176 ), PoolIntArray( 176, 178, 177 ), PoolIntArray( 182, 181, 180 ), PoolIntArray( 185, 184, 183 ), PoolIntArray( 187, 186, 188 ), PoolIntArray( 188, 186, 189 ), PoolIntArray( 190, 193, 191 ), PoolIntArray( 191, 193, 192 ), PoolIntArray( 195, 194, 196 ), PoolIntArray( 196, 194, 197 ), PoolIntArray( 201, 200, 198 ), PoolIntArray( 198, 200, 199 ), PoolIntArray( 205, 204, 202 ), PoolIntArray( 202, 204, 203 ), PoolIntArray( 208, 207, 209 ), PoolIntArray( 209, 207, 206 ), PoolIntArray( 213, 212, 210 ), PoolIntArray( 210, 212, 211 ), PoolIntArray( 214, 216, 215 ), PoolIntArray( 219, 218, 217 ), PoolIntArray( 222, 221, 220 ), PoolIntArray( 225, 224, 226 ), PoolIntArray( 226, 224, 223 ), PoolIntArray( 226, 223, 227 ), PoolIntArray( 227, 223, 228 ), PoolIntArray( 230, 229, 231 ), PoolIntArray( 231, 229, 232 ), PoolIntArray( 234, 233, 235 ), PoolIntArray( 235, 233, 236 ), PoolIntArray( 238, 237, 239 ), PoolIntArray( 239, 237, 240 ), PoolIntArray( 242, 241, 243 ), PoolIntArray( 243, 241, 244 ), PoolIntArray( 247, 246, 245 ), PoolIntArray( 251, 250, 248 ), PoolIntArray( 248, 250, 249 ), PoolIntArray( 254, 253, 252 ) ]
cell_size = 1.0
cell_height = 1.5
agent_height = 3.0
agent_radius = 1.0

[sub_resource type="DynamicFont" id=7]
size = 22
font_data = ExtResource( 5 )

[node name="pathfinding" type="Spatial"]
script = ExtResource( 6 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( -1, 7.96151e-08, -3.61134e-08, 3.96711e-10, 0.417217, 0.908807, 8.74219e-08, 0.908807, -0.417217, 1.62017, 30.0283, -19.6332 )
fov = 76.0036

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.429313, 0.903156, 0, -0.903156, 0.429313, -15.8196, 14.813, 10.8217 )

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
navmesh = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, -2, 0 )
mesh = ExtResource( 8 )
skeleton = NodePath("../../..")

[node name="tile_handler" parent="Navigation" instance=ExtResource( 3 )]

[node name="Tile1" parent="Navigation/tile_handler" instance=ExtResource( 2 )]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 2, -8, 3, -14 )

[node name="Tile7" parent="Navigation/tile_handler" instance=ExtResource( 2 )]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 2, -10, 3, 10 )

[node name="Tile5" parent="Navigation/tile_handler" instance=ExtResource( 2 )]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 2, 0, 3, -14 )

[node name="Tile2" parent="Navigation/tile_handler" instance=ExtResource( 2 )]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 2, 8, 3, -14 )

[node name="Tile3" parent="Navigation/tile_handler" instance=ExtResource( 2 )]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 2, 2, 3, 10 )

[node name="Tile4" parent="Navigation/tile_handler" instance=ExtResource( 2 )]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 2, -10, 3, -2 )

[node name="Tile6" parent="Navigation/tile_handler" instance=ExtResource( 2 )]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 2, 0, 3, -2 )

[node name="Tile" parent="Navigation/tile_handler" instance=ExtResource( 4 )]
transform = Transform( 2, 0, 0, 0, 1, 0, 0, 0, 2, 14, 3, 10 )

[node name="Troop" parent="Navigation" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 3, -14 )

[node name="Troop2" parent="Navigation" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 3, -14 )

[node name="UserInterface" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Retry" type="ColorRect" parent="UserInterface"]
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0.133333, 0.129412, 0.14902, 0.65098 )

[node name="Label" type="Label" parent="UserInterface/Retry"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -117.5
margin_top = -45.0
margin_right = 117.5
margin_bottom = 45.0
custom_fonts/font = SubResource( 7 )
text = "You Won!

Press Enter to restart"
align = 1

[connection signal="Won" from="Navigation/Troop" to="." method="_on_Troop_Won"]
[connection signal="Won" from="Navigation/Troop2" to="." method="_on_Troop_Won"]
